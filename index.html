<!doctype html>
<html lang="sk">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Slovníky</title>
<link rel="icon" type="image/png" sizes="1024x1024" href="icon.png">
<style>
  :root{
    --bg: #f3f6fb;
    --ribbon-start: #2b579a;
    --ribbon-end: #163e7a;
    --panel: #ffffff;
    --text: #0b1220;
    --muted: #44556a;
    --accent: #0b66c3;
    --btn-bg: #eef4fb;
    --btn-hover: #e1eefc;
    --card-border: rgba(13,33,63,0.06);
    --input-bg: rgba(255,255,255,1);
    --input-border: rgba(0,0,0,0.06);
    --radius: 12px;
    --btn-height: 40px;
    --font-size: 15px;
    --touch-btn-height: 56px;
    --max-app-width: 980px;
    --gap: 14px;
    --ribbon: linear-gradient(180deg,var(--ribbon-start),var(--ribbon-end));
    --shadow: 0 8px 30px rgba(15,30,60,0.08);
  }

  @media (prefers-color-scheme: dark) {
    :root{
      --bg: #071018;
      --ribbon-start: #0b3a66;
      --ribbon-end: #062536;
      --panel: #0f1719;
      --text: #e6eef6;
      --muted: #9aa6b0;
      --accent: #2aa1ff;
      --btn-bg: rgba(255,255,255,0.03);
      --btn-hover: rgba(255,255,255,0.06);
      --card-border: rgba(255,255,255,0.06);
      --input-bg: rgba(255,255,255,0.02);
      --input-border: rgba(255,255,255,0.12);
      --ribbon: linear-gradient(180deg,var(--ribbon-start),var(--ribbon-end));
      --shadow: 0 10px 34px rgba(0,0,0,0.6);
    }
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: "Segoe UI", Roboto, Arial, sans-serif;
    background:var(--bg);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    padding:16px;
    display:flex;
    justify-content:center;
  }

  .app{
    width: min(var(--max-app-width),98%);
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.01));
    border-radius:12px;
    box-shadow: var(--shadow);
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }

  .ribbon{
    display:flex;
    align-items:center;
    gap:12px;
    padding:12px;
    background: var(--ribbon);
    color: white;
  }
  .title { font-weight:700; font-size:16px; }

  /* hlavné rozloženie: dve kolóny, rovnake výšky */
  .main{
    display:flex;
    gap:var(--gap);
    padding:18px;
    align-items:stretch; /* zabezpečí rovnakú výšku stĺpcov */
    align-content:stretch;
  }
  .left{ flex:1; min-width:0; display:flex; flex-direction:column; }
  .panel{
    background:var(--panel);
    border-radius:12px;
    padding:14px;
    border:1px solid var(--card-border);
    box-shadow: 0 6px 18px rgba(0,0,0,0.03);
    display:flex;
    flex-direction:column;
    gap:12px;
    flex:1 1 auto; /* natiahne sa na plnú výšku rodiča */
  }

  .search-row{
    display:flex;
    gap:12px;
    align-items:center;
  }

  .input{
    flex:1;
    height:44px;
    padding:10px 12px;
    font-size:var(--font-size);
    border-radius:10px;
    border:1px solid var(--input-border);
    background:var(--input-bg);
    color:var(--text);
    min-width:0;
  }
  .input::placeholder{ color:var(--muted); opacity:.9; }

  .btn {
    height:var(--btn-height);
    padding:8px 14px;
    border-radius:10px;
    border:1px solid var(--card-border);
    background:var(--btn-bg);
    cursor:pointer;
    font-size:15px;
    white-space:nowrap;
    color:var(--text);
    box-sizing:border-box;
  }
  .btn.primary{
    background:linear-gradient(180deg,var(--accent), color-mix(in srgb, var(--accent) 80%, black 20%));
    color:white;
    border-color: transparent;
    box-shadow: 0 4px 14px rgba(11,102,195,0.12);
  }
  .btn.ghost{
    background:transparent;
    border:1px solid var(--card-border);
  }
  .btn:hover{ filter:brightness(.98); }
  .btn:active{ transform:translateY(1px); }

  .right{
    width:300px;
    min-width:220px;
    display:flex;
    flex-direction:column;
  }
  .card{
    background:var(--panel);
    padding:12px;
    border-radius:10px;
    border:1px solid var(--card-border);
    margin-bottom:12px;
    box-shadow: 0 4px 18px rgba(0,0,0,0.03);
    display:flex;
    flex-direction:column;
    gap:12px;
    flex:1 1 auto; /* natiahne sa na plnú výšku rodiča */
  }
  .card h3{ margin:0 0 8px 0; font-size:14px; color:var(--muted); }

  /* zabezpečí, že skupina tlačidiel zaberie dostupnú výšku a tlačidlá sú rovnakej veľkosti */
  .search-row > div,
  .card > div {
    display:flex;
    flex-direction:column;
    gap:10px;
    align-items:stretch;
    justify-content:flex-start;
  }

  /* tlačidlá v rýchlych odkazoch a vo vnútri card majú plnú šírku */
  .card .btn,
  .right .btn,
  .search-row > div .btn {
    width:100%;
  }

  @media (max-width:860px){
    .main{ flex-direction:column; padding:12px; gap:12px; align-items:stretch; }
    .right{ width:100%; }
  }

  @media (max-width:600px){
    .search-row{
      flex-direction:column;
      align-items:stretch;
    }
    .input{
      height:52px;
      font-size:16px;
      padding:12px;
    }
    .btn{
      height: var(--touch-btn-height);
      font-size:16px;
    }
    .btn-row{ display:flex; gap:8px; flex-direction:column; }
  }

  @media (max-width:420px){
    .ribbon{ padding:10px; }
    .title{ font-size:15px; }
    .btn{ font-size:15px; padding:10px; }
  }

  /* prístupnosť focus */
  :focus{ outline:3px solid rgba(11,102,195,0.18); outline-offset:3px; border-radius:8px; }

  .footer{ padding:10px 18px; font-size:13px; color:var(--muted); text-align:right; }
  .note { color:var(--muted); font-size:13px; margin-top:10px; }
</style>
</head>
<body>
  <div class="app" role="application" aria-label="Slovníky">
    <div class="ribbon" role="banner">
      <div class="title">Slovníky</div>
    </div>

    <div class="main">
      <div class="left">
        <div class="panel" role="region" aria-label="Hlavné vyhľadávanie">
          <div style="margin-bottom:8px; color:var(--muted); font-size:13px;">Zadajte slovo alebo frázu</div>

          <div class="search-row" role="group" aria-label="Vyhľadávanie">
            <input id="query" class="input" type="text" placeholder="napr. dom" aria-label="Hľadaný výraz" autocomplete="off" />
            <div>
              <button id="sjBtn" class="btn primary" title="Otvoriť slovník">🔎 Vyhľadať v slovníku SJ</button>
              <button id="gtBtn" class="btn" title="Otvoriť Google Preklad">🔤 Preložiť cez Google prekladač</button>
              <button id="readBtn" class="btn ghost" title="Prečítať text nahlas">🔊 Prečítať</button>
            </div>
          </div>
        </div>
      </div>

      <aside class="right" aria-label="Rýchle odkazy">
        <div class="card">
          <h3>Rýchle odkazy</h3>
          <div>
<a href="https://slovnik.juls.savba.sk/" target="_top" class="btn">Slovenské slovníky</a>
<a href="https://translate.google.com/?sl=auto&tl=sk&op=translate" target="_top" class="btn">Google Prekladač</a>
<a href="https://slovniky.lingea.sk/" target="_top" class="btn">Lingea slovníky</a>
          </div>
        </div>
      </aside>
  </div>

<script>
(() => {
  const queryEl   = document.getElementById('query');
  const sjBtn     = document.getElementById('sjBtn');
  const gtBtn     = document.getElementById('gtBtn');
  const readBtn   = document.getElementById('readBtn');
  const openSJAll = document.getElementById('openSJAll');
  const openGTAuto= document.getElementById('openGTAuto');
  const openLingea= document.getElementById('openLingea');

  // URL buildery
  function sjUrl(q){ return 'https://slovnik.juls.savba.sk/?w=' + encodeURIComponent(q); }
  function sjHome(){ return 'https://slovnik.juls.savba.sk/'; }
  function gtUrl(q){ return 'https://translate.google.com/?sl=auto&tl=sk&op=translate&text=' + encodeURIComponent(q); }
  function gtHome(){ return 'https://translate.google.com/?sl=auto&tl=sk&op=translate'; }

  // Navigácia vždy v top-level karte
  function navigateTop(url){
    if (window.top === window.self) {
      window.location.href = url;
    } else {
      try { window.top.location.href = url; }
      catch(e){ window.open(url, '_top'); }
    }
  }

  // Kontrola prázdneho poľa
  function getQueryOrWarn(){
    const q = (queryEl.value || '').trim();
    if (!q) {
      alert('Zadajte slovo alebo frázu.');
      queryEl.focus();
      return null;
    }
    return q;
  }

  // --- Hlavné tlačidlá (blokujú prázdne pole) ---
  sjBtn.addEventListener('click', () => {
    const q = getQueryOrWarn();
    if (q !== null) navigateTop(sjUrl(q));
  });

  gtBtn.addEventListener('click', () => {
    const q = getQueryOrWarn();
    if (q !== null) navigateTop(gtUrl(q));
  });

  // Enter v inpute = SJ vyhľadávanie
  queryEl.addEventListener('keydown', (ev) => {
    if (ev.key === 'Enter') {
      ev.preventDefault();
      const q = getQueryOrWarn();
      if (q !== null) navigateTop(sjUrl(q));
    }
  });

  // --- Rýchle odkazy (fungujú vždy) ---
  openSJAll?.addEventListener('click', (ev) => {
    ev.preventDefault();
    const q = (queryEl.value || '').trim();
    navigateTop(q ? sjUrl(q) : sjHome());
  });

  openGTAuto?.addEventListener('click', (ev) => {
    ev.preventDefault();
    const q = (queryEl.value || '').trim();
    navigateTop(q ? gtUrl(q) : gtHome());
  });

  openLingea?.addEventListener('click', (ev) => {
    ev.preventDefault();
    navigateTop('https://slovniky.lingea.sk/');
  });

  // --- Čítanie nahlas ---
  readBtn.addEventListener('click', () => {
    const text = (queryEl.value || '').trim();
    if(!text){ alert('Zadajte text na prečítanie.'); queryEl.focus(); return; }
    if('speechSynthesis' in window){
      const u = new SpeechSynthesisUtterance(text);
      u.lang = 'sk-SK'; u.rate = 0.95;
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(u);
    } else {
      alert('Čítanie textu nahlas nie je dostupné.');
    }
  });
})();
</script>
</body>
</html>
